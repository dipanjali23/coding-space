<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Spaceship vs Giant Alien Boss</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: black;
    color: white;
    font-family: Arial, sans-serif;
  }
 canvas{
    background: black;
 }
</style>
</head>
<body>
<div id="startScreen" style="position:fixed;top:0;left:0;width:100%;height:100%;background:black;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:10;">
  <button id="startButton" style="font-size:24px;padding:20px 40px;cursor:pointer;">Start Game</button>
</div>
<canvas width="100%" height="100%"></canvas>
<script>
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');

  // Starfield background
  const stars = [];
  const numStars = 100;

  for (let i = 0; i < numStars; i++) {
    stars.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      radius: Math.random() * 1.5,
      alpha: Math.random(),
      alphaChange: 0.01 * (Math.random() < 0.5 ? 1 : -1)
    });
  }

  // Game objects
  const spaceship = {
    x: canvas.width / 2 - 20,
    y: canvas.height - 60,
    width: 40,
    height: 40,
    speed: 5,
    lasers: [],
    cooldown: 0
  };

  const boss = {
    x: canvas.width / 2 - 75,
    y: 50,
    width: 150,
    height: 150,
    speedX: 3,
    speedY: 2,
    directionX: 1,
    directionY: 1,
    lasers: [],
    cooldown: 0,
    health: 100
  };

  let keys = {};
  let gameRunning = false;

  // Event listeners for controls
  window.addEventListener('keydown', function(e) {
    if (gameRunning) {
      keys[e.key] = true;
    }
  });
  window.addEventListener('keyup', function(e) {
    if (gameRunning) {
      keys[e.key] = false;
    }
  });

  function drawStarfield() {
    ctx.fillStyle = 'black';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    stars.forEach(star => {
      ctx.beginPath();
      ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(255, 255, 255, ${star.alpha})`;
      ctx.fill();
      star.alpha += star.alphaChange;
      if (star.alpha <= 0) {
        star.alpha = 0;
        star.alphaChange *= -1;
      } else if (star.alpha >= 1) {
        star.alpha = 1;
        star.alphaChange *= -1;
      }
    });
  }

  function drawSpaceship() {
    // Draw spaceship with gradient and shapes
    const gradient = ctx.createLinearGradient(spaceship.x, spaceship.y, spaceship.x, spaceship.y + spaceship.height);
    gradient.addColorStop(0, '#00ffff');
    gradient.addColorStop(1, '#004466');
    ctx.fillStyle = gradient;
    ctx.beginPath();
    ctx.moveTo(spaceship.x + spaceship.width / 2, spaceship.y);
    ctx.lineTo(spaceship.x, spaceship.y + spaceship.height);
    ctx.lineTo(spaceship.x + spaceship.width, spaceship.y + spaceship.height);
    ctx.closePath();
    ctx.fill();

    // Cockpit
    ctx.fillStyle = '#66ffff';
    ctx.beginPath();
    ctx.ellipse(spaceship.x + spaceship.width / 2, spaceship.y + spaceship.height / 2, 8, 12, 0, 0, Math.PI * 2);
    ctx.fill();
  }

  function drawBoss() {
    // Draw boss with gradient and details
    const gradient = ctx.createLinearGradient(boss.x, boss.y, boss.x, boss.y + boss.height);
    gradient.addColorStop(0, '#ff4444');
    gradient.addColorStop(1, '#880000');
    ctx.fillStyle = gradient;
    ctx.fillRect(boss.x, boss.y, boss.width, boss.height);

    // Eyes
    ctx.fillStyle = 'yellow';
    ctx.beginPath();
    ctx.arc(boss.x + 40, boss.y + 40, 15, 0, Math.PI * 2);
    ctx.arc(boss.x + 110, boss.y + 40, 15, 0, Math.PI * 2);
    ctx.fill();

    // Mouth
    ctx.strokeStyle = 'yellow';
    ctx.lineWidth = 5;
    ctx.beginPath();
    ctx.moveTo(boss.x + 40, boss.y + 110);
    ctx.lineTo(boss.x + 110, boss.y + 110);
    ctx.stroke();

    // Glow effect around boss
    ctx.shadowColor = 'rgba(255, 0, 0, 0.7)';
    ctx.shadowBlur = 20;
    ctx.fillRect(boss.x, boss.y, boss.width, boss.height);
    ctx.shadowBlur = 0;
  }

  function drawLaser(laser) {
    // Draw laser with glow effect
    ctx.fillStyle = laser.color;
    ctx.shadowColor = laser.color;
    ctx.shadowBlur = 10;
    ctx.fillRect(laser.x, laser.y, laser.width, laser.height);
    ctx.shadowBlur = 0;
  }

  function moveSpaceship() {
    if (keys['ArrowLeft'] && spaceship.x > 0) {
      spaceship.x -= spaceship.speed;
    }
    if (keys['ArrowRight'] && spaceship.x + spaceship.width < canvas.width) {
      spaceship.x += spaceship.speed;
    }
    if (keys['ArrowUp'] && spaceship.y > 0) {
      spaceship.y -= spaceship.speed;
    }
    if (keys['ArrowDown'] && spaceship.y + spaceship.height < canvas.height) {
      spaceship.y += spaceship.speed;
    }
  }

  function shootSpaceshipLaser() {
    if (keys[' '] && spaceship.cooldown <= 0) {
      spaceship.lasers.push({
        x: spaceship.x + spaceship.width / 2 - 2,
        y: spaceship.y,
        width: 4,
        height: 10,
        speed: 7,
        color: 'cyan'
      });
      spaceship.cooldown = 15; // cooldown frames
    }
    if (spaceship.cooldown > 0) {
      spaceship.cooldown--;
    }
  }

  function moveSpaceshipLasers() {
    spaceship.lasers.forEach((laser, index) => {
      laser.y -= laser.speed;
      if (laser.y + laser.height < 0) {
        spaceship.lasers.splice(index, 1);
      }
    });
  }

  function moveBoss() {
    // Unpredictable movement: random direction changes occasionally
    if (Math.random() < 0.02) {
      boss.directionX = Math.random() < 0.5 ? -1 : 1;
      boss.directionY = Math.random() < 0.5 ? -1 : 1;
    }
    boss.x += boss.speedX * boss.directionX;
    boss.y += boss.speedY * boss.directionY;

    // Keep boss inside canvas bounds
    if (boss.x < 0) boss.x = 0;
    if (boss.x + boss.width > canvas.width) boss.x = canvas.width - boss.width;
    if (boss.y < 0) boss.y = 0;
    if (boss.y + boss.height > canvas.height / 2) boss.y = canvas.height / 2 - boss.height;
  }

  function shootBossLaser() {
    if (boss.cooldown <= 0) {
      boss.lasers.push({
        x: boss.x + boss.width / 2 - 3,
        y: boss.y + boss.height,
        width: 6,
        height: 15,
        speed: 6,
        color: 'red'
      });
      boss.cooldown = 50; // cooldown frames
    }
    if (boss.cooldown > 0) {
      boss.cooldown--;
    }
  }

  function moveBossLasers() {
    boss.lasers.forEach((laser, index) => {
      laser.y += laser.speed;
      if (laser.y > canvas.height) {
        boss.lasers.splice(index, 1);
      }
    });
  }

  function checkCollision(rect1, rect2) {
    return (
      rect1.x < rect2.x + rect2.width &&
      rect1.x + rect1.width > rect2.x &&
      rect1.y < rect2.y + rect2.height &&
      rect1.y + rect1.height > rect2.y
    );
  }

  function update() {
    if (!gameRunning) return;
    moveSpaceship();
    shootSpaceshipLaser();
    moveSpaceshipLasers();

    moveBoss();
    shootBossLaser();
    moveBossLasers();

    // Check collisions: spaceship lasers hit boss
    spaceship.lasers.forEach((laser, index) => {
      if (checkCollision(laser, boss)) {
        boss.health -= 5;
        spaceship.lasers.splice(index, 1);
      }
    });

    // Check collisions: boss lasers hit spaceship
    boss.lasers.forEach((laser, index) => {
      if (checkCollision(laser, spaceship)) {
        // For simplicity, end game on hit
        alert('Game Over! The boss hit your spaceship.');
        document.location.reload();
      }
    });

    // Check boss health
    if (boss.health <= 0) {
      alert('You defeated the giant alien boss! Congratulations!');
      document.location.reload();
    }
  }

  function draw() {
    drawStarfield();

    drawSpaceship();
    drawBoss();

    spaceship.lasers.forEach(drawLaser);
    boss.lasers.forEach(drawLaser);

    // Draw boss health bar
    ctx.fillStyle = 'white';
    ctx.fillRect(20, 20, 200, 20);
    ctx.fillStyle = 'green';
    ctx.fillRect(20, 20, 2 * boss.health, 20);

    // Draw instructions
    if (!gameRunning) {
      ctx.fillStyle = 'white';
      ctx.font = '24px Arial';
      ctx.textAlign = 'center';
      ctx.fillText('Press Start to Begin', canvas.width / 2, canvas.height / 2);
    } else {
      ctx.fillStyle = 'white';
      ctx.font = '16px Arial';
      ctx.textAlign = 'left';
      ctx.fillText('Use arrow keys to move, space to shoot', 10, canvas.height - 10);
    }
  }

  function gameLoop() {
    update();
    draw();
    requestAnimationFrame(gameLoop);
  }

  document.getElementById('startButton').addEventListener('click', () => {
    gameRunning = true;
    document.getElementById('startScreen').style.display = 'none';
  });

  gameLoop();
</script>
</body>
</html>
